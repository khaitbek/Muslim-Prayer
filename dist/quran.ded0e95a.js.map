{"mappings":"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","sources":["src/script/helper.js","src/script/quran.js"],"sourcesContent":["export async function makeRequest(url,params = {}){\n    const paramsToQueryString = Object.entries(params).map(param => `${param[0]}=${param[1]}`).join(\"&\");\n    return fetch(`${url}?${paramsToQueryString}`);\n}","import { makeRequest } from \"./helper.js\";\nconst ayahList = document.querySelector(\"#verseList\");\nconst surahList = document.querySelector(\"#surahList\");\nconst verseTemplate = document.querySelector(\"#verseTemplate\").content;\nconst surahTemplate = document.querySelector(\"#surahTemplate\").content;\nconst closeSideBarBtn = document.querySelector(\"#closeSidebarBtn\");\nconst sidebar = document.querySelector(\"#sidebar\");\n\nlet currentAudioID = undefined;\nwindow.localStorage.removeItem(\"audioId\");\n\nasync function getAyahsFromAPI(url, options = {}) {\n    const versesData = await makeRequest(`${url}`, options);\n    const versesFromAPI = await versesData.json();\n    renderAyahs(versesFromAPI.chapters, ayahList);\n}\n\nasync function getSingleAyah(url, id, options) {\n    const ayahData = await makeRequest(`${url}`, options);\n    const ayah = await ayahData.json();\n    return ayah\n}\n\nfunction renderAyahs(ayahs, ayahsList) {\n    const newFragment = new DocumentFragment();\n    ayahsList.innerHTML = \"\";\n    ayahs.forEach(ayah => {\n        const verseTemplateClone = verseTemplate.cloneNode(true).children[0];\n        const { verses_count, name_simple, id, revelation_place } = ayah;\n        verseTemplateClone.dataset.id = id;\n        verseTemplateClone.querySelector(\"#verseName\").textContent = name_simple;\n        verseTemplateClone.querySelector(\"#verseRevelationPlace\").textContent = revelation_place;\n        verseTemplateClone.querySelector(\"#versesAyahs\").textContent = verses_count;\n        verseTemplateClone\n        newFragment.appendChild(verseTemplateClone);\n    });\n    ayahList.appendChild(newFragment);\n}\n\nfunction renderSurah(ayahs, list,surah) {\n    const newFragment = new DocumentFragment();\n    list.innerHTML = \"\";\n    const currentSurahName = sidebar.querySelector(\"#surahName\");\n    currentSurahName.textContent = surah\n    ayahs.forEach(ayah => {\n        const { number, numberInSurah, audio, text } = ayah;\n        const surahTemplateClone = surahTemplate.cloneNode(true).children[0];\n        surahTemplateClone.querySelector(\"#ayah\").textContent = `${numberInSurah}. ${text}`;\n        surahTemplateClone.querySelector(\"audio\").src = audio;\n        surahTemplateClone.dataset.number = number;\n        newFragment.appendChild(surahTemplateClone);\n    });\n    list.appendChild(newFragment);\n}\n\nayahList.addEventListener(\"click\", async (evt) => {\n    const targetElem = evt.target;\n    if (targetElem.matches(\"#openSidebarBtn\")) {\n        window.localStorage.removeItem(\"audioId\");\n        const closestSurahElement = targetElem.closest(\"#verseItem\");\n        const surahId = Number(closestSurahElement.dataset.id);\n        const ayah = await getSingleAyah(`https://api.alquran.cloud/v1/surah/${surahId}/editions/ar.alafasy,en.asad,ur.jalandhry?limit=1`, {});\n        renderSurah(ayah.data[0].ayahs, surahList,ayah.data[0].englishName);\n        sidebar.classList.add(\"show\");\n    }\n});\n\nsidebar.addEventListener(\"click\", (evt) => {\n    const targetElem = evt.target;\n    if (targetElem.matches(\"#surahAudio\")) {\n        const parentElement = targetElem.parentElement;\n        checkIfAnyAudioPlaying(parentElement.dataset.number)\n        currentAudioID = parentElement.dataset.number;\n        window.localStorage.removeItem(\"audioId\");\n        playNextAudio();\n    }\n});\n\nfunction checkIfAnyAudioPlaying(currentAudioNumber) {\n    const isAnyAudioPlaying = window.localStorage.getItem(\"audioId\");\n    if (isAnyAudioPlaying && isAnyAudioPlaying !== currentAudioNumber) {\n        const playingItem = surahList.querySelector(`[data-number=\"${isAnyAudioPlaying}\"]`);\n        const playingAudio = playingItem.querySelector(\"audio\");\n        playingItem.classList.remove(\"playing\")\n        playingAudio.currentTime = 0;\n        playingAudio.pause();\n    };\n}\n\nfunction playNextAudio() {\n    const nextSurahItem = document.querySelector(`[data-number=\"${currentAudioID}\"]`);\n    const nextSurahButton = nextSurahItem.querySelector(\"#surahAudio\");\n    if (!nextSurahItem) return;\n    const nextAudio = nextSurahItem.querySelector(\"audio\");\n    checkIfAnyAudioPlaying(nextSurahItem.dataset.number);\n    nextSurahItem.classList.add(\"playing\");\n    if (nextAudio.paused) {\n        nextSurahButton.textContent = \"Pause\";\n        nextAudio.play();\n    }\n    else {\n        nextAudio.pause();\n        nextSurahItem.classList.add(\"playing\");\n    }\n    window.localStorage.setItem(\"audioId\", nextSurahItem.dataset.number);\n    currentAudioID++;\n    nextAudio.addEventListener(\"ended\", () => {\n        nextSurahButton.textContent = \"Play\"\n        nextSurahItem.classList.remove(\"playing\");\n        playNextAudio();\n    }, { once: true });\n    nextAudio.addEventListener(\"pause\", () => {\n        nextSurahButton.textContent = \"Play\"\n        nextAudio.currentTime = 0;\n    }, { once: true });\n}\n\ncloseSideBarBtn.addEventListener(\"click\", () => {\n    window.localStorage.removeItem(\"audioId\");\n    sidebar.classList.remove(\"show\");\n});\n\nasync function getFirstAyah() {\n    const firstAyah = await getSingleAyah(\"https://api.alquran.cloud/v1/surah/1/editions/ar.alafasy,en.asad,ur.jalandhry?limit=1\");\n    renderSurah(firstAyah.data[0].ayahs, surahList,firstAyah.data[0].englishName);\n}\n\ngetFirstAyah();\ngetAyahsFromAPI(\"https://api.quran.com/api/v3/chapters\");"],"names":["async","$c24bf177a93c77bc$export$699251e5611cc6db","url","params","paramsToQueryString","Object","entries","map","param","join","fetch","$58ad91aa01abb58c$var$ayahList","document","querySelector","$58ad91aa01abb58c$var$surahList","$58ad91aa01abb58c$var$verseTemplate","content","$58ad91aa01abb58c$var$surahTemplate","$58ad91aa01abb58c$var$closeSideBarBtn","$58ad91aa01abb58c$var$sidebar","$58ad91aa01abb58c$var$currentAudioID","$58ad91aa01abb58c$var$getSingleAyah","id","options","ayahData","json","$58ad91aa01abb58c$var$renderSurah","ayahs","list","surah","newFragment","DocumentFragment","innerHTML","textContent","forEach","ayah","number","numberInSurah","audio","text","surahTemplateClone","cloneNode","children","src","dataset","appendChild","$58ad91aa01abb58c$var$checkIfAnyAudioPlaying","currentAudioNumber","isAnyAudioPlaying","window","localStorage","getItem","playingItem","playingAudio","classList","remove","currentTime","pause","$58ad91aa01abb58c$var$playNextAudio","nextSurahItem","nextSurahButton","nextAudio","add","paused","play","setItem","addEventListener","once","removeItem","evt","targetElem","target","matches","closestSurahElement","closest","surahId","Number","data","englishName","parentElement","firstAyah","$58ad91aa01abb58c$var$getFirstAyah","versesData","ayahsList","verseTemplateClone","verses_count","name_simple","revelation_place","$58ad91aa01abb58c$var$renderAyahs","chapters","$58ad91aa01abb58c$var$getAyahsFromAPI"],"version":3,"file":"quran.ded0e95a.js.map"}