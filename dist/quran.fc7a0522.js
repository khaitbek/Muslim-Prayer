async function e(e,t={}){const a=Object.entries(t).map((e=>`${e[0]}=${e[1]}`)).join("&");return fetch(`${e}?${a}`)}const t=document.querySelector("#verseList"),a=document.querySelector("#surahList"),n=document.querySelector("#verseTemplate").content,o=document.querySelector("#surahTemplate").content,i=document.querySelector("#closeSidebarBtn"),r=document.querySelector("#sidebar"),s=document.querySelector("#videosList"),c=document.querySelector("#videosTemplate").content,u=document.querySelector("#videoSelect"),d=(document.querySelector("#servicesList"),document.querySelector("#verseSelect")),l=document.querySelector("#recitationSelect"),m=[{link:"https://www.youtube.com/embed/EYPC8k-6YsI",author:"Nizomiddin Shoshiy",title:"Nizomiddin qori Qur'on musobaqasi g'olibi"},{link:"https://www.youtube.com/embed/YDpR42jeUXE",author:"Nizomiddin Shoshiy",title:"Nizomiddin qori Isro su'rasi"},{link:"https://www.youtube.com/embed/KH-WPAzHP-g",author:"Nizomiddin Shoshiy",title:"Nizomiddin qori bir oyatni 8 xil maqomda o'qidi!"},{link:"https://www.youtube.com/embed/jNCvp01AumQ",author:"Shayx Alijon qori",title:"Shayx Alijon qoridan go'zal tilovat"},{link:"https://www.youtube.com/embed/QZoR9AYNN54",author:"Shayx Alijon qori",title:"Qalblar sohibini eslatgan tilovat"},{link:"https://www.youtube.com/embed/saF4Lg4zHZU",author:"Shayx Alijon qori",title:"Fotiha surasi va Baqara surasi 1-5-oyatlar"},{link:"https://www.youtube.com/embed/Lql37um7VSs",author:"Hasanxon Yahyo Abdulmajid",title:"Fotiha surasi 6 xil maqomda o'qilishi"},{link:"https://www.youtube.com/embed/OH5iLyQesXw",author:"Hasanxon Yahyo Abdulmajid",title:"Qur'onning kelinchagi bo'lmish Rohman surasi!"},{link:"https://www.youtube.com/embed/mRaqkxNLRhk",author:"Hasanxon Yahyo Abdulmajid",title:"Hasanxon Yahyo Abdulmajid - “Baqara” surasi, 1-25 oyatlar"}];let h;async function p(a,o={}){const i=await e(`${a}`,o);!function(e,a){const o=new DocumentFragment;a.innerHTML="",e.forEach((e=>{const t=n.cloneNode(!0).children[0],{verses_count:a,name_simple:i,name_arabic:r,id:s,revelation_place:c,chapter_number:u}=e;t.dataset.id=s,t.querySelector("#verseName").textContent=`${u}. ${i} (${r})`,t.querySelector("#verseRevelationPlace").textContent=c,t.querySelector("#versesAyahs").textContent=`${a} oyat`,o.appendChild(t)})),t.appendChild(o)}((await i.json()).chapters,t)}async function y(t,a,n){const o=await e(`${t}`,n);return await o.json()}function w(){window.localStorage.setItem("reciterId",l.value)}function q(t,a,n,i){const s=new DocumentFragment;a.innerHTML="";r.querySelector("#surahName").textContent=n,t.forEach((t=>{const{number:a,numberInSurah:n,audio:r,text:c}=t,u=`${i}:${n}`,d=o.cloneNode(!0).children[0],l=Number(window.localStorage.getItem("reciterId"));(async function(t){const a=await e("https://api.quran.com/api/v4/quran/translations/55",{verse_key:t});return await a.json()})(u).then((e=>{const t=e.translations[0].text.split("<")[0];d.querySelector("#ayahTranslation").textContent=t})),d.querySelector("#ayah").textContent=`${n}. ${c}`,async function(t,a){const n=await e(`https://api.quran.com/api/v4/quran/recitations/${Number(window.localStorage.getItem("reciterId"))}`,{verse_key:a});return await n.json()}(0,u).then((e=>{d.querySelector("audio").src=12===l?`https:${e.audio_files?.[0]?.url}`:`https://verses.quran.com/${e.audio_files?.[0]?.url}`})),d.dataset.number=a,s.appendChild(d)})),a.appendChild(s)}function v(e){const t=window.localStorage.getItem("audioId");if(t&&t!==e){const e=a.querySelector(`[data-number="${t}"]`),n=e.querySelector("audio");e.classList.remove("playing"),n.currentTime=0,n.pause()}}function S(){const e=document.querySelector(`[data-number="${h}"]`),t=e.querySelector("#surahAudio");if(!e)return;const a=e.querySelector("audio");v(e.dataset.number),e.classList.add("playing"),a.paused?(t.textContent="Pause",a.play()):(a.pause(),e.classList.add("playing")),window.localStorage.setItem("audioId",e.dataset.number),h++,a.addEventListener("ended",(()=>{t.textContent="Play",e.classList.remove("playing"),S()}),{once:!0}),a.addEventListener("pause",(()=>{t.textContent="Play",a.currentTime=0}),{once:!0})}function b(e,t){t.innerHTML="";const a=new DocumentFragment;e.forEach((e=>{const{link:t,author:n,title:o}=e,i=c.cloneNode(!0).children[0];i.querySelector("iframe").src=t,i.dataset.author=n,a.appendChild(i)})),t.appendChild(a)}window.localStorage.removeItem("audioId"),t.addEventListener("click",(async e=>{const t=e.target;if(t.matches("#openSidebarBtn")){window.localStorage.removeItem("audioId");const e=t.closest("#verseItem"),n=Number(e.dataset.id),o=await y(`https://api.alquran.cloud/v1/surah/${n}/editions/ar.alafasy,en.asad,ur.jalandhry?limit=1`);q(o.data[0].ayahs,a,o.data[0].englishName,o.data[0].number),r.classList.add("show")}})),r.addEventListener("click",(e=>{const t=e.target;if(t.matches("#surahAudio")){const e=t.parentElement;v(e.dataset.number),h=e.dataset.number,window.localStorage.removeItem("audioId"),S()}})),i.addEventListener("click",(()=>{v(Number(window.localStorage.getItem("audioId"))),window.localStorage.removeItem("audioId"),r.classList.remove("show")})),u.addEventListener("change",(e=>{var t,a;t=m,a=e.target.value,b(t.filter((e=>""===a|e.author===a)),s)})),d.addEventListener("change",(t=>{"juz"===t.target.value?async function(){const t=await e("https://api.quran.com/api/v4/juzs");await t.json()}():p("https://api.quran.com/api/v3/chapters")})),l.addEventListener("change",w),async function(){const e=await y("https://api.alquran.cloud/v1/surah/1/editions/ar.alafasy,en.asad,ur.jalandhry?limit=1");q(e.data[0].ayahs,a,e.data[0].englishName,e.data[0].number)}(),async function(t,a={}){const n=await e(`${t}`,a);!function(e){const t=[];e.forEach((e=>{const{id:a,reciter_name:n}=e;if(t.includes(n))return;const o=document.createElement("option");o.text=n,o.value=a,l.appendChild(o),t.push(n)})),w()}((await n.json()).recitations)}("https://api.quran.com/api/v4/resources/recitations"),p("https://api.quran.com/api/v3/chapters"),b(m.slice(0,1),s),function(e,t){const a=new Set;e.forEach((e=>a.add(e.author)));const n=new DocumentFragment;a.forEach((e=>{const t=document.createElement("option");t.value=e,t.textContent=e,n.appendChild(t)})),t.appendChild(n)}(m,u);
//# sourceMappingURL=quran.fc7a0522.js.map
