async function e(e,t={}){const a=Object.entries(t).map((e=>`${e[0]}=${e[1]}`)).join("&");return fetch(`${e}?${a}`)}const t=document.querySelector("#verseList"),a=document.querySelector("#surahList"),n=document.querySelector("#verseTemplate").content,o=document.querySelector("#surahTemplate").content,r=document.querySelector("#closeSidebarBtn"),s=document.querySelector("#sidebar");let c;async function i(t,a,n){const o=await e(`${t}`,n);return await o.json()}function d(e,t,a){const n=new DocumentFragment;t.innerHTML="";s.querySelector("#surahName").textContent=a,e.forEach((e=>{const{number:t,numberInSurah:a,audio:r,text:s}=e,c=o.cloneNode(!0).children[0];c.querySelector("#ayah").textContent=`${a}. ${s}`,c.querySelector("audio").src=r,c.dataset.number=t,n.appendChild(c)})),t.appendChild(n)}function u(e){const t=window.localStorage.getItem("audioId");if(t&&t!==e){const e=a.querySelector(`[data-number="${t}"]`),n=e.querySelector("audio");e.classList.remove("playing"),n.currentTime=0,n.pause()}}function l(){const e=document.querySelector(`[data-number="${c}"]`),t=e.querySelector("#surahAudio");if(!e)return;const a=e.querySelector("audio");u(e.dataset.number),e.classList.add("playing"),a.paused?(t.textContent="Pause",a.play()):(a.pause(),e.classList.add("playing")),window.localStorage.setItem("audioId",e.dataset.number),c++,a.addEventListener("ended",(()=>{t.textContent="Play",e.classList.remove("playing"),l()}),{once:!0}),a.addEventListener("pause",(()=>{t.textContent="Play",a.currentTime=0}),{once:!0})}window.localStorage.removeItem("audioId"),t.addEventListener("click",(async e=>{const t=e.target;if(t.matches("#openSidebarBtn")){window.localStorage.removeItem("audioId");const e=t.closest("#verseItem"),n=Number(e.dataset.id),o=await i(`https://api.alquran.cloud/v1/surah/${n}/editions/ar.alafasy,en.asad,ur.jalandhry?limit=1`);d(o.data[0].ayahs,a,o.data[0].englishName),s.classList.add("show")}})),s.addEventListener("click",(e=>{const t=e.target;if(t.matches("#surahAudio")){const e=t.parentElement;u(e.dataset.number),c=e.dataset.number,window.localStorage.removeItem("audioId"),l()}})),r.addEventListener("click",(()=>{window.localStorage.removeItem("audioId"),s.classList.remove("show")})),async function(){const e=await i("https://api.alquran.cloud/v1/surah/1/editions/ar.alafasy,en.asad,ur.jalandhry?limit=1");d(e.data[0].ayahs,a,e.data[0].englishName)}(),async function(a,o={}){const r=await e(`${a}`,o);!function(e,a){const o=new DocumentFragment;a.innerHTML="",e.forEach((e=>{const t=n.cloneNode(!0).children[0],{verses_count:a,name_simple:r,id:s,revelation_place:c}=e;t.dataset.id=s,t.querySelector("#verseName").textContent=r,t.querySelector("#verseRevelationPlace").textContent=c,t.querySelector("#versesAyahs").textContent=a,o.appendChild(t)})),t.appendChild(o)}((await r.json()).chapters,t)}("https://api.quran.com/api/v3/chapters");
//# sourceMappingURL=quran.ded0e95a.js.map
