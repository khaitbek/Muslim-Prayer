{"mappings":"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","sources":["src/script/helper.js","src/script/quran.js"],"sourcesContent":["export async function makeRequest(url,params = {}){\n    const paramsToQueryString = Object.entries(params).map(param => `${param[0]}=${param[1]}`).join(\"&\");\n    return fetch(`${url}?${paramsToQueryString}`);\n}","import { makeRequest } from \"./helper.js\";\nconst ayahList = document.querySelector(\"#verseList\");\nconst surahList = document.querySelector(\"#surahList\");\nconst verseTemplate = document.querySelector(\"#verseTemplate\").content;\nconst surahTemplate = document.querySelector(\"#surahTemplate\").content;\nconst closeSideBarBtn = document.querySelector(\"#closeSidebarBtn\");\nconst sidebar = document.querySelector(\"#sidebar\");\nconst videosList = document.querySelector(\"#videosList\");\nconst videosTemplate = document.querySelector(\"#videosTemplate\").content;\nconst authorSelect = document.querySelector(\"#videoSelect\");\nconst servicesList = document.querySelector(\"#servicesList\");\n\n// global variables\nconst videos = [\n    {\n        link:\"https://www.youtube.com/embed/EYPC8k-6YsI\",\n        author:\"Nizomiddin Shoshiy\",\n        title:\"Nizomiddin qori Qur'on musobaqasi g'olibi\"\n    },\n    {\n        link:\"https://www.youtube.com/embed/YDpR42jeUXE\",\n        author:\"Nizomiddin Shoshiy\",\n        title:\"Nizomiddin qori Isro su'rasi\"\n    },\n    {\n        link:\"https://www.youtube.com/embed/KH-WPAzHP-g\",\n        author:\"Nizomiddin Shoshiy\",\n        title:\"Nizomiddin qori bir oyatni 8 xil maqomda o'qidi!\"\n    },\n    {\n        link:\"https://www.youtube.com/embed/jNCvp01AumQ\",\n        author:\"Shayx Alijon qori\",\n        title:\"Shayx Alijon qoridan go'zal tilovat\"\n    },\n    {\n        link:\"https://www.youtube.com/embed/QZoR9AYNN54\",\n        author:\"Shayx Alijon qori\",\n        title:\"Qalblar sohibini eslatgan tilovat\" \n    },\n    {\n        link:\"https://www.youtube.com/embed/saF4Lg4zHZU\",\n        author:\"Shayx Alijon qori\",\n        title:\"Fotiha surasi va Baqara surasi 1-5-oyatlar\"\n    },\n    {\n        link:\"https://www.youtube.com/embed/Lql37um7VSs\",\n        author:\"Hasanxon Yahyo Abdulmajid\",\n        title:\"Fotiha surasi 6 xil maqomda o'qilishi\"\n    },\n    {\n        link:\"https://www.youtube.com/embed/OH5iLyQesXw\",\n        author:\"Hasanxon Yahyo Abdulmajid\",\n        title:\"Qur'onning kelinchagi bo'lmish Rohman surasi!\"\n    },\n    {\n        link:\"https://www.youtube.com/embed/mRaqkxNLRhk\",\n        author:\"Hasanxon Yahyo Abdulmajid\",\n        title:\"Hasanxon Yahyo Abdulmajid - “Baqara” surasi, 1-25 oyatlar\"\n    }\n]\nlet currentAudioID = undefined;\nwindow.localStorage.removeItem(\"audioId\");\n\n\n// functions\nasync function getAyahsFromAPI(url, options = {}) {\n    const versesData = await makeRequest(`${url}`, options);\n    const versesFromAPI = await versesData.json();\n    renderAyahs(versesFromAPI.chapters, ayahList);\n}\n\nasync function getSingleAyah(url, id, options) {\n    const ayahData = await makeRequest(`${url}`, options);\n    const ayah = await ayahData.json();\n    return ayah\n}\n\nfunction renderAyahs(ayahs, ayahsList) {\n    const newFragment = new DocumentFragment();\n    ayahsList.innerHTML = \"\";\n    ayahs.forEach(ayah => {\n        const verseTemplateClone = verseTemplate.cloneNode(true).children[0];\n        const { verses_count, name_simple, id, revelation_place } = ayah;\n        verseTemplateClone.dataset.id = id;\n        verseTemplateClone.querySelector(\"#verseName\").textContent = name_simple;\n        verseTemplateClone.querySelector(\"#verseRevelationPlace\").textContent = revelation_place;\n        verseTemplateClone.querySelector(\"#versesAyahs\").textContent = verses_count;\n        verseTemplateClone\n        newFragment.appendChild(verseTemplateClone);\n    });\n    ayahList.appendChild(newFragment);\n}\n\nasync function getSingleAyahTranslation(verseKey){\n    const response = await makeRequest(`https://api.quran.com/api/v4/quran/translations/55`,{\n        verse_key:verseKey\n    });\n    const ayahTranslation = await response.json();\n    return ayahTranslation;\n}\n\nfunction renderSurah(ayahs, list,surah,surahNumber) {\n    const newFragment = new DocumentFragment();\n    list.innerHTML = \"\";\n    const currentSurahName = sidebar.querySelector(\"#surahName\");\n    currentSurahName.textContent = surah\n    ayahs.forEach(ayah => {\n        const { number, numberInSurah, audio, text } = ayah;\n        const ayahVerseKey = `${surahNumber}:${numberInSurah}`;\n        const surahTemplateClone = surahTemplate.cloneNode(true).children[0];\n        getSingleAyahTranslation(ayahVerseKey).then(translationData => {\n            const translation = translationData.translations[0].text.split(\"<\")[0];\n            surahTemplateClone.querySelector(\"#ayahTranslation\").textContent = translation;\n        })\n        surahTemplateClone.querySelector(\"#ayah\").textContent = `${numberInSurah}. ${text}`;\n        surahTemplateClone.querySelector(\"audio\").src = audio;\n        surahTemplateClone.dataset.number = number;\n        newFragment.appendChild(surahTemplateClone);\n    });\n    list.appendChild(newFragment);\n}\n\nfunction checkIfAnyAudioPlaying(currentAudioNumber) {\n    const isAnyAudioPlaying = window.localStorage.getItem(\"audioId\");\n    if (isAnyAudioPlaying && isAnyAudioPlaying !== currentAudioNumber) {\n        const playingItem = surahList.querySelector(`[data-number=\"${isAnyAudioPlaying}\"]`);\n        const playingAudio = playingItem.querySelector(\"audio\");\n        playingItem.classList.remove(\"playing\")\n        playingAudio.currentTime = 0;\n        playingAudio.pause();\n    };\n}\n\nfunction playNextAudio() {\n    const nextSurahItem = document.querySelector(`[data-number=\"${currentAudioID}\"]`);\n    const nextSurahButton = nextSurahItem.querySelector(\"#surahAudio\");\n    if (!nextSurahItem) return;\n    const nextAudio = nextSurahItem.querySelector(\"audio\");\n    checkIfAnyAudioPlaying(nextSurahItem.dataset.number);\n    nextSurahItem.classList.add(\"playing\");\n    if (nextAudio.paused) {\n        nextSurahButton.textContent = \"Pause\";\n        nextAudio.play();\n    }\n    else {\n        nextAudio.pause();\n        nextSurahItem.classList.add(\"playing\");\n    }\n    window.localStorage.setItem(\"audioId\", nextSurahItem.dataset.number);\n    currentAudioID++;\n    nextAudio.addEventListener(\"ended\", () => {\n        nextSurahButton.textContent = \"Play\"\n        nextSurahItem.classList.remove(\"playing\");\n        playNextAudio();\n    }, { once: true });\n    nextAudio.addEventListener(\"pause\", () => {\n        nextSurahButton.textContent = \"Play\"\n        nextAudio.currentTime = 0;\n    }, { once: true });\n}\n\nasync function getFirstAyah() {\n    const firstAyah = await getSingleAyah(\"https://api.alquran.cloud/v1/surah/1/editions/ar.alafasy,en.asad,ur.jalandhry?limit=1\");\n    renderSurah(firstAyah.data[0].ayahs, surahList,firstAyah.data[0].englishName,firstAyah.data[0].number);\n}\n\nfunction renderVideos(videos,videosList){\n    videosList.innerHTML = \"\";\n    const newFragment = new DocumentFragment();\n    videos.forEach(video => {\n        const {link,author,title} = video;\n        const videosTemplateClone = videosTemplate.cloneNode(true).children[0];\n        videosTemplateClone.querySelector(\"iframe\").src = link;\n        videosTemplateClone.dataset.author = author;\n        newFragment.appendChild(videosTemplateClone);\n    });\n    videosList.appendChild(newFragment);\n}\n\nfunction getAuthors(videos,authorsList){\n    const authors = new Set();\n    videos.forEach(video => authors.add(video.author));\n    const newFragment = new DocumentFragment();\n    authors.forEach(author => {\n        const newOption = document.createElement(\"option\");\n        newOption.value = author;\n        newOption.textContent = author;\n\n        newFragment.appendChild(newOption);\n    });\n    authorsList.appendChild(newFragment);\n}\n\n// events\nayahList.addEventListener(\"click\", async (evt) => {\n    const targetElem = evt.target;\n    if (targetElem.matches(\"#openSidebarBtn\")) {\n        window.localStorage.removeItem(\"audioId\");\n        const closestSurahElement = targetElem.closest(\"#verseItem\");\n        const surahId = Number(closestSurahElement.dataset.id);\n        const ayah = await getSingleAyah(`https://api.alquran.cloud/v1/surah/${surahId}/editions/ar.alafasy,en.asad,ur.jalandhry?limit=1`, {});\n        renderSurah(ayah.data[0].ayahs, surahList,ayah.data[0].englishName,ayah.data[0].number);\n        sidebar.classList.add(\"show\");\n    }\n});\n\nsidebar.addEventListener(\"click\", (evt) => {\n    const targetElem = evt.target;\n    if (targetElem.matches(\"#surahAudio\")) {\n        const parentElement = targetElem.parentElement;\n        checkIfAnyAudioPlaying(parentElement.dataset.number)\n        currentAudioID = parentElement.dataset.number;\n        window.localStorage.removeItem(\"audioId\");\n        playNextAudio();\n    }\n});\n\ncloseSideBarBtn.addEventListener(\"click\", () => {\n    window.localStorage.removeItem(\"audioId\");\n    sidebar.classList.remove(\"show\");\n});\nauthorSelect.addEventListener(\"change\", evt => {\n    filterVideosByAuthor(videos,evt.target.value);\n})\n\nfunction filterVideosByAuthor(videos,author){\n    const filteredVideos = videos.filter(video => author === \"\" | video.author === author);\n    renderVideos(filteredVideos,videosList);\n}\n\n// function calls\ngetFirstAyah();\ngetAyahsFromAPI(\"https://api.quran.com/api/v3/chapters\");\nrenderVideos(videos.slice(0,1),videosList);\ngetAuthors(videos,authorSelect);"],"names":["async","$c24bf177a93c77bc$export$699251e5611cc6db","url","params","paramsToQueryString","Object","entries","map","param","join","fetch","$58ad91aa01abb58c$var$ayahList","document","querySelector","$58ad91aa01abb58c$var$surahList","$58ad91aa01abb58c$var$verseTemplate","content","$58ad91aa01abb58c$var$surahTemplate","$58ad91aa01abb58c$var$closeSideBarBtn","$58ad91aa01abb58c$var$sidebar","$58ad91aa01abb58c$var$videosList","$58ad91aa01abb58c$var$videosTemplate","$58ad91aa01abb58c$var$authorSelect","$58ad91aa01abb58c$var$videos","link","author","title","$58ad91aa01abb58c$var$currentAudioID","$58ad91aa01abb58c$var$getSingleAyah","id","options","ayahData","json","$58ad91aa01abb58c$var$renderSurah","ayahs","list","surah","surahNumber","newFragment","DocumentFragment","innerHTML","textContent","forEach","ayah","number","numberInSurah","audio","text","ayahVerseKey","surahTemplateClone","cloneNode","children","verseKey","response","verse_key","$58ad91aa01abb58c$var$getSingleAyahTranslation","then","translationData","translation","translations","split","src","dataset","appendChild","$58ad91aa01abb58c$var$checkIfAnyAudioPlaying","currentAudioNumber","isAnyAudioPlaying","window","localStorage","getItem","playingItem","playingAudio","classList","remove","currentTime","pause","$58ad91aa01abb58c$var$playNextAudio","nextSurahItem","nextSurahButton","nextAudio","add","paused","play","setItem","addEventListener","once","$58ad91aa01abb58c$var$renderVideos","videos","videosList","video","videosTemplateClone","removeItem","evt","targetElem","target","matches","closestSurahElement","closest","surahId","Number","data","englishName","parentElement","value","filter","firstAyah","$58ad91aa01abb58c$var$getFirstAyah","versesData","ayahsList","verseTemplateClone","verses_count","name_simple","revelation_place","$58ad91aa01abb58c$var$renderAyahs","chapters","$58ad91aa01abb58c$var$getAyahsFromAPI","slice","authorsList","authors","Set","newOption","createElement","$58ad91aa01abb58c$var$getAuthors"],"version":3,"file":"quran.bf5ae724.js.map"}